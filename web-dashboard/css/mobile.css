/* Mobile Responsive Styles - Fixed Version */

/* Base Mobile Fixes */
@media (max-width: 768px) {
    * {
        box-sizing: border-box;
    }
    
    body {
        overflow-x: hidden;
        width: 100%;
        max-width: 100vw;
    }
    
    /* Prevent horizontal scroll */
    .container, .main-content, .flex-1 {
        max-width: 100%;
        overflow-x: hidden;
    }
}

/* Mobile Navigation */
@media (max-width: 768px) {
    .sidebar {
        position: fixed;
        left: -100%;
        top: 0;
        width: 280px;
        max-width: 80vw;
        height: 100vh;
        z-index: 50;
        transition: left 0.3s ease-in-out;
        background: rgb(15 23 42);
        border-right: 1px solid rgb(51 65 85);
        overflow-y: auto;
    }
    
    .sidebar.open {
        left: 0;
    }
    
    .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        z-index: 40;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease-in-out;
    }
    
    .sidebar-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    
    .main-content {
        margin-left: 0;
        padding: 0.5rem;
        width: 100%;
        max-width: 100vw;
        overflow-x: hidden;
    }
    
    .mobile-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
        background: rgb(15 23 42);
        border-bottom: 1px solid rgb(51 65 85);
        position: sticky;
        top: 0;
        z-index: 30;
        width: 100%;
        max-width: 100vw;
    }
    
    .hamburger {
        display: flex;
        flex-direction: column;
        cursor: pointer;
        padding: 0.5rem;
        min-width: 44px;
        min-height: 44px;
        justify-content: center;
        align-items: center;
    }
    
    .hamburger span {
        width: 25px;
        height: 3px;
        background: white;
        margin: 3px 0;
        transition: 0.3s;
        border-radius: 2px;
    }
    
    .hamburger.active span:nth-child(1) {
        transform: rotate(-45deg) translate(-5px, 6px);
    }
    
    .hamburger.active span:nth-child(2) {
        opacity: 0;
    }
    
    .hamburger.active span:nth-child(3) {
        transform: rotate(45deg) translate(-5px, -6px);
    }
}

/* Text and Content Fixes */
@media (max-width: 768px) {
    /* Prevent text overflow */
    h1, h2, h3, h4, h5, h6 {
        word-wrap: break-word;
        word-break: break-word;
        hyphens: auto;
        max-width: 100%;
        overflow-wrap: break-word;
    }
    
    p, span, div {
        word-wrap: break-word;
        word-break: break-word;
        max-width: 100%;
        overflow-wrap: break-word;
    }
    
    /* Long text handling */
    .text-overflow-ellipsis {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
    }
    
    /* Page titles */
    .page-title {
        font-size: 1.5rem !important;
        line-height: 1.75rem !important;
        margin-bottom: 0.5rem;
        word-break: break-word;
        hyphens: auto;
    }
    
    .page-description {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
        word-break: break-word;
        hyphens: auto;
    }
    
    /* Card titles */
    .card-title {
        font-size: 1rem !important;
        line-height: 1.5rem !important;
        word-break: break-word;
        margin-bottom: 0.5rem;
    }
    
    /* Button text */
    .button-text, button {
        font-size: 0.875rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    /* Long button text fix */
    button span {
        display: inline-block;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

/* Mobile Grid Adjustments - ИСПРАВЛЕНО */
@media (max-width: 768px) {
    /* Статистические блоки - по 2 в ряд */
    .stats-grid,
    .grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem;
        width: 100%;
        max-width: 100%;
    }
    
    .stats-card {
        padding: 0.75rem !important;
        width: 100%;
        max-width: 100%;
        overflow: hidden;
    }
    
    .stats-card .flex {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 0.5rem;
    }
    
    .stats-card .w-12 {
        width: 2rem !important;
        height: 2rem !important;
    }
    
    .stats-card .text-2xl {
        font-size: 1.125rem !important;
        word-break: break-word;
        margin-bottom: 0.25rem;
    }
    
    .stats-card p {
        font-size: 0.75rem;
        word-break: break-word;
        line-height: 1.2;
        margin: 0;
    }
    
    .stats-card .inline-block {
        font-size: 0.625rem !important;
        padding: 0.125rem 0.375rem !important;
    }
    
    /* ДОПОЛНИТЕЛЬНЫЕ СЕЛЕКТОРЫ для существующих элементов */
    .grid.grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem !important;
    }
    
    .grid.grid-cols-4 > div {
        padding: 0.75rem !important;
    }
    
    .grid.grid-cols-4 > div .flex {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 0.5rem !important;
    }
    
    .grid.grid-cols-4 > div .w-12 {
        width: 2rem !important;
        height: 2rem !important;
    }
    
    .grid.grid-cols-4 > div .text-2xl {
        font-size: 1.125rem !important;
        margin-bottom: 0.25rem !important;
    }
    
    .grid.grid-cols-4 > div p {
        font-size: 0.75rem !important;
        margin: 0 !important;
    }
    
    .grid.grid-cols-4 > div .inline-block {
        font-size: 0.625rem !important;
        padding: 0.125rem 0.375rem !important;
    }
    
    /* Другие сетки */
    .charts-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem;
        width: 100%;
    }
    
    .accounts-grid {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
        width: 100%;
    }
    
    .posts-grid {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
        width: 100%;
    }
    
    /* Grid container fixes */
    .grid {
        width: 100%;
        max-width: 100%;
        overflow: hidden;
    }
    
    .grid > * {
        min-width: 0;
        max-width: 100%;
    }
}

/* Account Cards - ИСПРАВЛЕНО */
@media (max-width: 768px) {
    .account-card {
        padding: 0.5rem !important;
        margin-bottom: 0.5rem;
    }
    
    .account-card .flex {
        flex-direction: row !important;
        align-items: center !important;
        gap: 0.75rem;
    }
    
    .account-card .w-12 {
        width: 2.5rem !important;
        height: 2.5rem !important;
        flex-shrink: 0;
    }
    
    .account-card .flex-1 {
        min-width: 0;
        flex: 1;
    }
    
    .account-card .text-lg {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
        margin-bottom: 0.25rem;
        word-break: break-word;
    }
    
    .account-card .text-sm {
        font-size: 0.75rem !important;
        line-height: 1rem !important;
        color: rgb(148 163 184);
        margin-bottom: 0.25rem;
    }
    
    .account-card .grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0.25rem;
        font-size: 0.625rem;
        margin-top: 0.25rem;
    }
    
    .account-card .grid > div {
        text-align: center;
        padding: 0.125rem;
        background: rgba(51, 65, 85, 0.3);
        border-radius: 0.25rem;
    }
    
    .account-card .space-x-2 {
        display: flex;
        gap: 0.25rem;
        margin-top: 0.5rem;
        flex-wrap: wrap;
    }
    
    .account-card .space-x-2 > * {
        margin: 0 !important;
    }
    
    .account-card button {
        padding: 0.25rem 0.5rem !important;
        font-size: 0.625rem !important;
        min-height: auto !important;
    }
    
    /* ДОПОЛНИТЕЛЬНЫЕ СЕЛЕКТОРЫ для карточек аккаунтов */
    #accounts-list > div {
        padding: 0.5rem !important;
        margin-bottom: 0.5rem;
        min-height: auto !important;
    }
    
    #accounts-list > div .flex {
        flex-direction: row !important;
        align-items: center !important;
        gap: 0.75rem;
    }
    
    #accounts-list > div .w-12 {
        width: 2.5rem !important;
        height: 2.5rem !important;
        flex-shrink: 0;
    }
    
    #accounts-list > div .flex-1 {
        min-width: 0;
        flex: 1;
    }
    
    #accounts-list > div .text-lg {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
        margin-bottom: 0.25rem;
        word-break: break-word;
    }
    
    #accounts-list > div .text-sm {
        font-size: 0.75rem !important;
        line-height: 1rem !important;
        color: rgb(148 163 184);
        margin-bottom: 0.25rem;
    }
    
    #accounts-list > div .grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0.25rem;
        font-size: 0.625rem;
        margin-top: 0.25rem;
    }
    
    #accounts-list > div .grid > div {
        text-align: center;
        padding: 0.125rem;
        background: rgba(51, 65, 85, 0.3);
        border-radius: 0.25rem;
    }
    
    #accounts-list > div .space-x-2 {
        display: flex;
        gap: 0.25rem;
        margin-top: 0.5rem;
        flex-wrap: wrap;
    }
    
    #accounts-list > div .space-x-2 > * {
        margin: 0 !important;
    }
    
    #accounts-list > div button {
        padding: 0.25rem 0.5rem !important;
        font-size: 0.625rem !important;
        min-height: auto !important;
    }
}

/* Card and Block Fixes */
@media (max-width: 768px) {
    /* All cards and blocks */
    [class*="bg-slate-800"],
    .border,
    .rounded-lg,
    .card {
        width: 100% !important;
        max-width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        box-sizing: border-box;
        overflow: hidden;
    }
    
    /* Card content */
    .card-content,
    .p-4, .p-6, .p-8 {
        padding: 0.75rem !important;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
    
    /* Flex containers */
    .flex {
        flex-wrap: wrap;
        max-width: 100%;
        overflow: hidden;
    }
    
    .flex > * {
        min-width: 0;
        flex-shrink: 1;
    }
    
    /* Prevent flex items from overflowing */
    .flex-1 {
        min-width: 0;
        max-width: 100%;
    }
}

/* Quick Actions Fix - ИСПРАВЛЕНО */
@media (max-width: 768px) {
    .quick-actions .space-y-4 > * {
        margin-bottom: 0.5rem !important;
    }
    
    .quick-actions button {
        width: 100% !important;
        padding: 0.75rem !important;
        font-size: 0.875rem !important;
        display: flex !important;
        align-items: center !important;
        justify-content: flex-start !important;
        gap: 0.5rem;
    }
    
    .quick-actions button i {
        flex-shrink: 0;
    }
    
    /* ДОПОЛНИТЕЛЬНЫЕ СЕЛЕКТОРЫ для быстрых действий */
    .grid.grid-cols-2 .space-y-4 button {
        padding: 0.75rem !important;
        font-size: 0.875rem !important;
    }
}

/* Posts Page Fixes - ИСПРАВЛЕНО */
@media (max-width: 768px) {
    .posts-header {
        flex-direction: column !important;
        gap: 1rem;
        align-items: stretch !important;
    }
    
    .posts-buttons {
        display: flex;
        gap: 0.5rem;
        width: 100%;
    }
    
    .posts-buttons button {
        flex: 1;
        padding: 0.75rem !important;
        font-size: 0.875rem !important;
        /* Обеспечиваем кликабельность на мобильных */
        cursor: pointer !important;
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1) !important;
        user-select: none !important;
        position: relative !important;
        z-index: 10 !important;
        /* Убираем возможные блокирующие псевдоэлементы */
        pointer-events: auto !important;
        /* Минимальная область касания */
        min-height: 44px !important;
        min-width: 44px !important;
        /* Обеспечиваем правильное отображение на touch устройствах */
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }

    /* Дополнительная гарантия для кнопки публикации */
    .posts-buttons button[onclick*="openPublishModal"] {
        pointer-events: auto !important;
        cursor: pointer !important;
        z-index: 15 !important;
        position: relative !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        background: linear-gradient(to right, rgb(37 99 235), rgb(147 51 234)) !important;
    }

    /* Состояние активного касания */
    .posts-buttons button:active {
        transform: scale(0.98) !important;
        opacity: 0.9 !important;
    }
    
    .post-item {
        padding: 0.5rem !important;
        margin-bottom: 0.5rem;
    }
    
    .post-item .flex {
        flex-direction: row !important;
        align-items: center !important;
        gap: 0.75rem;
    }
    
    .post-item img {
        width: 50px !important;
        height: 50px !important;
        flex-shrink: 0;
    }
    
    .post-item .flex-1 {
        min-width: 0;
        flex: 1;
    }
    
    .post-item .text-lg {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
        margin-bottom: 0.25rem;
        word-break: break-word;
    }
    
    .post-item .text-sm {
        font-size: 0.75rem !important;
        line-height: 1rem !important;
        color: rgb(148 163 184);
        margin-bottom: 0.25rem;
    }
    
    .post-stats {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.25rem;
        font-size: 0.625rem;
        margin-top: 0.25rem;
    }
    
    .post-stats > div {
        text-align: center;
        padding: 0.125rem;
        background: rgba(51, 65, 85, 0.3);
        border-radius: 0.25rem;
    }
    
    /* ДОПОЛНИТЕЛЬНЫЕ СЕЛЕКТОРЫ для постов */
    #posts-list > div {
        padding: 0.5rem !important;
        margin-bottom: 0.5rem;
        min-height: auto !important;
    }
    
    #posts-list > div .flex {
        flex-direction: row !important;
        align-items: center !important;
        gap: 0.75rem;
    }
    
    #posts-list > div img {
        width: 50px !important;
        height: 50px !important;
        flex-shrink: 0;
    }
    
    #posts-list > div .flex-1 {
        min-width: 0;
        flex: 1;
    }
    
    #posts-list > div .text-lg {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
        margin-bottom: 0.25rem;
        word-break: break-word;
    }
    
    #posts-list > div .text-sm {
        font-size: 0.75rem !important;
        line-height: 1rem !important;
        color: rgb(148 163 184);
        margin-bottom: 0.25rem;
    }
    
    #posts-list > div .grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0.25rem;
        font-size: 0.625rem;
        margin-top: 0.25rem;
    }
    
    #posts-list > div .grid > div {
        text-align: center;
        padding: 0.125rem;
        background: rgba(51, 65, 85, 0.3);
        border-radius: 0.25rem;
    }
    
    #posts-list > div .space-x-2 {
        display: flex;
        gap: 0.25rem;
        margin-top: 0.5rem;
        flex-wrap: wrap;
    }
    
    #posts-list > div .space-x-2 > * {
        margin: 0 !important;
    }
    
    #posts-list > div button {
        padding: 0.25rem 0.5rem !important;
        font-size: 0.625rem !important;
        min-height: auto !important;
    }
}

/* Profile Page Fixes - ИСПРАВЛЕНО */
@media (max-width: 768px) {
    .profile-form-container {
        display: block !important;
    }
    
    .profile-form {
        margin-bottom: 1rem;
    }
    
    .profile-form .grid {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
    }
    
    .profile-form input,
    .profile-form textarea,
    .profile-form select {
        width: 100% !important;
        font-size: 0.875rem;
        padding: 0.75rem;
    }
    
    .profile-form label {
        font-size: 0.875rem;
        margin-bottom: 0.25rem;
    }
    
    .profile-preview {
        position: static !important;
        margin-top: 1rem;
        max-width: 100% !important;
        width: 100% !important;
        overflow: hidden;
    }
    
    .username-section {
        margin-bottom: 1rem;
    }
    
    .username-input-group {
        display: flex;
        gap: 0.5rem;
        margin-top: 0.5rem;
    }
    
    .username-input-group input {
        flex: 1;
    }
    
    .username-input-group button {
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
    }
}

/* Table Fixes */
@media (max-width: 768px) {
    .proxy-table-container,
    .table-responsive {
        width: 100%;
        max-width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        margin: 0;
    }
    
    .proxy-table,
    table {
        min-width: 100%;
        width: max-content;
        font-size: 0.75rem;
    }
    
    .proxy-table th,
    .proxy-table td,
    table th,
    table td {
        padding: 0.5rem 0.25rem;
        white-space: nowrap;
        font-size: 0.75rem;
        max-width: 150px;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .mobile-table-card {
        display: block;
        background: rgba(51, 65, 85, 0.5);
        border: 1px solid rgb(71 85 105);
        border-radius: 0.5rem;
        padding: 0.75rem;
        margin-bottom: 0.75rem;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        overflow: hidden;
    }
    
    .mobile-table-card .table-row {
        display: none;
    }
    
    .mobile-table-card > div {
        margin-bottom: 0.5rem;
        word-break: break-word;
    }
}

/* Form Fixes */
@media (max-width: 768px) {
    .modal {
        margin: 0.5rem !important;
        max-width: calc(100vw - 1rem) !important;
        max-height: calc(100vh - 1rem) !important;
        width: calc(100vw - 1rem) !important;
        left: 50% !important;
        top: 50% !important;
        transform: translate(-50%, -50%) !important;
        position: fixed !important;
    }
    
    .form-grid {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
        width: 100%;
    }
    
    .form-buttons {
        flex-direction: column;
        gap: 0.5rem;
        width: 100%;
    }
    
    .form-buttons button {
        width: 100% !important;
        max-width: 100% !important;
        margin: 0;
        padding: 0.75rem;
        font-size: 0.875rem;
    }
    
    /* Input fixes */
    input, select, textarea {
        width: 100% !important;
        max-width: 100% !important;
        min-height: 44px;
        font-size: 16px; /* Prevents zoom on iOS */
        padding: 0.75rem 0.5rem;
        box-sizing: border-box;
    }
    
    /* Label fixes */
    label {
        font-size: 0.875rem;
        word-break: break-word;
        margin-bottom: 0.25rem;
        display: block;
    }
    
    .tabs-container {
        width: 100%;
        overflow-x: auto;
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
    
    .tabs-container::-webkit-scrollbar {
        display: none;
    }
    
    .tabs-list {
        min-width: max-content;
        padding: 0 0.5rem;
        display: flex;
        gap: 0.5rem;
    }
    
    .tabs-list button {
        white-space: nowrap;
        min-width: auto;
        padding: 0.5rem 1rem;
        font-size: 0.75rem;
    }
}

/* Search and Filter Fixes */
@media (max-width: 768px) {
    .search-filters {
        flex-direction: column !important;
        gap: 0.75rem;
        width: 100%;
        max-width: 100%;
    }
    
    .search-input {
        width: 100% !important;
        max-width: 100% !important;
        margin: 0;
    }
    
    .filters-row {
        display: flex;
        gap: 0.5rem;
        overflow-x: auto;
        padding-bottom: 0.5rem;
        width: 100%;
        -webkit-overflow-scrolling: touch;
    }
    
    .filter-select {
        min-width: 120px;
        flex-shrink: 0;
        font-size: 0.875rem;
        padding: 0.5rem;
    }
}

/* Button Fixes */
@media (max-width: 768px) {
    .action-buttons {
        flex-direction: column !important;
        gap: 0.5rem;
        width: 100% !important;
        max-width: 100% !important;
    }
    
    .action-buttons button {
        width: 100% !important;
        max-width: 100% !important;
        justify-content: center;
        margin: 0;
        padding: 0.75rem;
        font-size: 0.875rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .floating-action-button {
        position: fixed;
        bottom: 1rem;
        right: 1rem;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: rgb(37 99 235);
        color: white;
        border: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        z-index: 20;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }
    
    .floating-action-button:hover {
        background: rgb(29 78 216);
        transform: scale(1.1);
    }
    
    /* Regular buttons */
    button, .button {
        min-height: 44px;
        min-width: 44px;
        word-wrap: break-word;
        overflow-wrap: break-word;
        box-sizing: border-box;
    }
}

/* Chart Fixes */
@media (max-width: 768px) {
    .chart-container {
        height: 200px !important;
        margin-bottom: 1rem;
        width: 100% !important;
        max-width: 100% !important;
        overflow: hidden;
    }
    
    .chart-title {
        font-size: 0.875rem !important;
        margin-bottom: 0.5rem;
        word-break: break-word;
    }
    
    canvas {
        max-width: 100% !important;
        height: auto !important;
    }
}

/* Warmup Card Fixes - ИСПРАВЛЕНО */
@media (max-width: 768px) {
    .warmup-stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem;
        width: 100%;
    }
    
    .warmup-card {
        padding: 0.75rem !important;
        width: 100% !important;
        max-width: 100% !important;
        overflow: hidden;
    }
    
    .warmup-card .flex {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 0.5rem;
    }
    
    .warmup-card .w-12 {
        width: 2rem !important;
        height: 2rem !important;
    }
    
    .warmup-card .text-2xl {
        font-size: 1.125rem !important;
        margin-bottom: 0.25rem;
    }
    
    .warmup-card p {
        font-size: 0.75rem;
        margin: 0;
    }
    
    .warmup-progress {
        margin-top: 0.5rem;
        width: 100%;
    }
    
    .warmup-stats {
        grid-template-columns: 1fr 1fr !important;
        gap: 0.5rem;
        font-size: 0.75rem;
        width: 100%;
    }
    
    .warmup-stats > div {
        word-break: break-word;
        overflow: hidden;
    }
}

/* AI Interface Fixes */
@media (max-width: 768px) {
    .ai-content-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem;
        width: 100%;
    }
    
    .ai-result-container {
        height: 150px !important;
        margin-top: 1rem;
        width: 100% !important;
        max-width: 100% !important;
        overflow-y: auto;
        word-wrap: break-word;
    }
    
    .ai-settings-grid {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
        width: 100%;
    }
}

/* Analytics Fixes */
@media (max-width: 768px) {
    .analytics-stats {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem;
        width: 100%;
    }
    
    .top-performers {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
        width: 100%;
    }
    
    .analytics-table-container {
        overflow-x: auto;
        width: 100%;
        max-width: 100%;
        -webkit-overflow-scrolling: touch;
    }
}

/* Touch Improvements */
@media (max-width: 768px) {
    .touch-target {
        min-height: 44px;
        min-width: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem;
    }
    
    /* Improve tap targets */
    a, button, input, select, textarea {
        min-height: 44px;
        touch-action: manipulation;
    }
}

/* Utility Classes */
@media (max-width: 768px) {
    .mobile-hidden {
        display: none !important;
    }
    
    .mobile-only {
        display: block !important;
    }
    
    .mobile-flex {
        display: flex !important;
    }
    
    .mobile-grid {
        display: grid !important;
    }
    
    .mobile-full-width {
        width: 100% !important;
        max-width: 100% !important;
    }
    
    .mobile-text-sm {
        font-size: 0.875rem !important;
    }
    
    .mobile-text-xs {
        font-size: 0.75rem !important;
    }
}

/* Landscape Mobile Adjustments */
@media (max-width: 768px) and (orientation: landscape) {
    .mobile-header {
        padding: 0.5rem 1rem;
    }
    
    .stats-grid {
        grid-template-columns: repeat(4, 1fr) !important;
    }
    
    .main-content {
        padding: 0.5rem;
    }
}

/* Small Mobile Devices */
@media (max-width: 375px) {
    .stats-grid {
        grid-template-columns: 1fr !important;
    }
    
    .page-title {
        font-size: 1.25rem !important;
    }
    
    .modal {
        margin: 0.25rem !important;
        max-width: calc(100vw - 0.5rem) !important;
        width: calc(100vw - 0.5rem) !important;
    }
    
    .main-content {
        padding: 0.25rem !important;
    }
    
    .hamburger {
        padding: 0.25rem;
    }
    
    .mobile-header {
        padding: 0.5rem;
    }
}

/* Extra Small Devices */
@media (max-width: 320px) {
    .page-title {
        font-size: 1.125rem !important;
        line-height: 1.5rem !important;
    }
    
    .stats-card {
        padding: 0.5rem !important;
    }
    
    .stats-card .text-2xl {
        font-size: 1.125rem !important;
    }
    
    button, .button {
        padding: 0.5rem !important;
        font-size: 0.75rem !important;
    }
    
    .main-content {
        padding: 0.25rem !important;
    }
}

/* Mobile Optimization for Publish Modal */
@media (max-width: 768px) {
    /* Publish modal adjustments */
    #publish-modal {
        padding: 0.5rem !important;
        align-items: flex-start !important;
        padding-top: 1rem !important;
    }
    
    #publish-modal .bg-slate-800 {
        margin: 0 !important;
        max-width: 100% !important;
        width: 100% !important;
        max-height: calc(100vh - 2rem) !important;
        border-radius: 12px !important;
        overflow-y: auto !important;
        position: relative;
    }
    
    /* Modal header */
    #publish-modal h3 {
        font-size: 1.25rem !important;
        padding-right: 3rem !important;
        margin-bottom: 1rem !important;
        line-height: 1.5 !important;
    }
    
    /* ИСПРАВЛЕНИЕ 1: Close button mobile - центрирование */
    .modal-close-btn {
        position: absolute !important;
        top: 12px !important;
        right: 12px !important;
        width: 36px !important;
        height: 36px !important;
        z-index: 20 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        border-radius: 6px !important;
        background: rgba(71, 85, 105, 0.8) !important;
        border: none !important;
    }
    
    .modal-close-btn i {
        width: 18px !important;
        height: 18px !important;
        color: white !important;
    }
    
    /* ИСПРАВЛЕНИЕ 2: Post type selection - вертикальная сетка для мобильных */
    #publish-modal .grid.grid-cols-3 {
        grid-template-columns: 1fr !important;
        gap: 0.75rem !important;
    }
    
    .post-type-card {
        padding: 1rem !important;
        min-height: auto !important;
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        gap: 1rem !important;
        text-align: left !important;
    }
    
    .post-type-card i {
        width: 2rem !important;
        height: 2rem !important;
        margin-bottom: 0 !important;
        flex-shrink: 0 !important;
    }
    
    .post-type-card span {
        font-size: 0.875rem !important;
        line-height: 1.25 !important;
        text-align: left !important;
        word-break: break-word !important;
        flex: 1 !important;
    }
    
    /* Content upload area */
    #content-upload-area {
        padding: 1rem !important;
        min-height: 120px !important;
    }
    
    #content-upload-area i {
        width: 2rem !important;
        height: 2rem !important;
    }
    
    #content-upload-area p {
        font-size: 0.875rem !important;
        margin-bottom: 0.5rem !important;
        text-align: center !important;
    }
    
    #upload-hint {
        font-size: 0.75rem !important;
    }
    
    /* Content preview */
    #content-preview img,
    #content-preview video {
        max-width: 200px !important;
        height: auto !important;
    }
    
    /* Form sections spacing */
    #publish-modal .space-y-6 > * {
        margin-bottom: 1rem !important;
    }
    
    /* Radio options mobile */
    .radio-option {
        padding: 12px 16px !important;
        gap: 10px !important;
        border-radius: 8px !important;
    }
    
    .radio-option .radio-title {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
    }
    
    .radio-option .radio-description {
        font-size: 0.75rem !important;
        line-height: 1.2 !important;
    }
    
    .radio-custom {
        width: 18px !important;
        height: 18px !important;
        flex-shrink: 0 !important;
    }
    
    .radio-custom::after {
        width: 6px !important;
        height: 6px !important;
    }
    
    /* Checkbox options mobile */
    .checkbox-option {
        padding: 12px 16px !important;
        gap: 10px !important;
        border-radius: 8px !important;
    }
    
    .checkbox-option .checkbox-title {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
    }
    
    .checkbox-option .checkbox-description {
        font-size: 0.75rem !important;
        line-height: 1.2 !important;
    }
    
    .checkbox-custom {
        width: 18px !important;
        height: 18px !important;
        flex-shrink: 0 !important;
    }
    
    .checkbox-custom::after {
        font-size: 10px !important;
    }
    
    /* Small checkbox for "all accounts" */
    .checkbox-option.small-padding {
        padding: 8px 12px !important;
    }
    
    .checkbox-option .checkbox-title.small-text {
        font-size: 0.75rem !important;
    }
    
    /* Schedule section */
    #schedule-section {
        padding: 1rem !important;
        margin-top: 0.75rem !important;
        border-radius: 8px !important;
    }
    
    /* Form inputs mobile */
    #publish-modal input,
    #publish-modal textarea,
    #publish-modal select {
        padding: 12px !important;
        font-size: 0.875rem !important;
        border-radius: 6px !important;
    }
    
    #post-caption {
        min-height: 80px !important;
        resize: vertical !important;
    }
    
    #post-hashtags {
        min-height: 60px !important;
        resize: vertical !important;
    }
    
    /* ИСПРАВЛЕНИЕ 3: Селект аккаунтов - правильный размер и отображение */
    #post-accounts {
        height: 120px !important;
        min-height: 120px !important;
        overflow-y: auto !important;
        appearance: none !important;
        -webkit-appearance: none !important;
        -moz-appearance: none !important;
        background-color: rgb(51, 65, 85) !important;
        border: 1px solid rgb(71, 85, 105) !important;
        color: white !important;
        font-size: 0.875rem !important;
        padding: 12px !important;
        border-radius: 6px !important;
        background-image: none !important;
    }
    
    #post-accounts option {
        background-color: rgb(51, 65, 85) !important;
        color: white !important;
        padding: 8px !important;
    }
    
    #post-accounts option:selected {
        background-color: rgb(37, 99, 235) !important;
        color: white !important;
    }
    
    /* Account selection section */
    #account-selection-section .mb-3 {
        margin-bottom: 0.75rem !important;
    }
    
    /* Form labels */
    #publish-modal label {
        font-size: 0.875rem !important;
        margin-bottom: 0.5rem !important;
        line-height: 1.25rem !important;
    }
    
    /* Helper text */
    #publish-modal .text-xs {
        font-size: 0.75rem !important;
        line-height: 1.2 !important;
    }
    
    /* Modal buttons */
    #publish-modal .flex.gap-3 {
        flex-direction: column !important;
        gap: 0.75rem !important;
        margin-top: 1.5rem !important;
    }
    
    #publish-modal button[type="submit"],
    #publish-modal button[type="button"] {
        width: 100% !important;
        padding: 0.875rem 1rem !important;
        font-size: 0.875rem !important;
        border-radius: 8px !important;
        min-height: 44px !important;
    }
    
    /* Icon adjustments in buttons */
    #publish-modal button i {
        width: 1rem !important;
        height: 1rem !important;
    }
}

/* Extra small mobile devices */
@media (max-width: 375px) {
    #publish-modal {
        padding: 0.25rem !important;
        padding-top: 0.5rem !important;
    }
    
    #publish-modal .bg-slate-800 {
        padding: 1rem !important;
        border-radius: 8px !important;
    }
    
    #publish-modal h3 {
        font-size: 1.125rem !important;
        margin-bottom: 0.75rem !important;
    }
    
    /* Кнопка закрытия для маленьких экранов */
    .modal-close-btn {
        width: 32px !important;
        height: 32px !important;
        top: 8px !important;
        right: 8px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        border-radius: 4px !important;
        background: rgba(71, 85, 105, 0.9) !important;
    }
    
    .modal-close-btn i {
        width: 16px !important;
        height: 16px !important;
        color: white !important;
    }
    
    /* Post type grid остается вертикальным на маленьких экранах */
    #publish-modal .grid.grid-cols-3 {
        grid-template-columns: 1fr !important;
        gap: 0.5rem !important;
    }
    
    .post-type-card {
        padding: 0.75rem !important;
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        gap: 0.75rem !important;
        text-align: left !important;
    }
    
    .post-type-card i {
        width: 1.5rem !important;
        height: 1.5rem !important;
        flex-shrink: 0 !important;
    }
    
    .post-type-card span {
        font-size: 0.8125rem !important;
        line-height: 1.2 !important;
        text-align: left !important;
        flex: 1 !important;
    }
    
    /* Form spacing */
    #publish-modal .space-y-6 > * {
        margin-bottom: 0.75rem !important;
    }
    
    /* Radio and checkbox options */
    .radio-option,
    .checkbox-option {
        padding: 10px 12px !important;
        gap: 8px !important;
    }
    
    .radio-option .radio-title,
    .checkbox-option .checkbox-title {
        font-size: 0.8125rem !important;
    }
    
    .radio-option .radio-description,
    .checkbox-option .checkbox-description {
        font-size: 0.6875rem !important;
    }
    
    /* Селект аккаунтов для маленьких экранов */
    #post-accounts {
        height: 100px !important;
        min-height: 100px !important;
        font-size: 0.8125rem !important;
        padding: 10px !important;
    }
}

/* Landscape orientation fixes */
@media (max-width: 768px) and (orientation: landscape) {
    #publish-modal {
        align-items: center !important;
        padding: 0.5rem !important;
    }
    
    #publish-modal .bg-slate-800 {
        max-height: 90vh !important;
        overflow-y: auto !important;
    }
    
    /* Reduce spacing in landscape */
    #publish-modal .space-y-6 > * {
        margin-bottom: 0.75rem !important;
    }
    
    .radio-option,
    .checkbox-option {
        padding: 8px 12px !important;
    }
    
    #content-upload-area {
        padding: 0.75rem !important;
        min-height: 100px !important;
    }
}

/* Дополнительная гарантия для кнопки публикации */
.posts-buttons button[onclick*="openPublishModal"] {
    pointer-events: auto !important;
    cursor: pointer !important;
    z-index: 15 !important;
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: linear-gradient(to right, rgb(37 99 235), rgb(147 51 234)) !important;
}

/* Стили специально для кнопки публикации по ID */
#publish-button {
    pointer-events: auto !important;
    cursor: pointer !important;
    z-index: 15 !important;
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: linear-gradient(to right, rgb(37 99 235), rgb(147 51 234)) !important;
    /* Улучшенные touch стили */
    -webkit-tap-highlight-color: rgba(37, 99, 235, 0.3) !important;
    touch-action: manipulation !important;
    user-select: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
}

/* Состояние касания для кнопки публикации */
#publish-button:active,
#publish-button.touch-active {
    transform: scale(0.98) !important;
    opacity: 0.9 !important;
    background: linear-gradient(to right, rgb(29 78 216), rgb(126 34 206)) !important;
} 